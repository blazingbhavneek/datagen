
# 1.2 ナンル® oneAPI リルキットの配布にたて

インル®oneAPI リルキットは、複数の配布經路から入手いたします。

製品のロ一力ル・インストーリル：インテル® ダンロリバーニー (英語) からインテルoneAPI ミルキットをインストーリルいたします。特定のインストーリルに開る情報は、「インストーリル・ガイド」(英語)を参照くださいます。  
- メンテナまたはリボジトリーツーからインストーリル：サボートserratにomersテナまたはリボジトリーツーからインテル®oneAPI ダールキットをインストーリルします。その種の手順にpineは「インストーリル・ガイド」(英語)を参照てくだき。  
- 事前イングスローがたインル® Tiber™ AI イーラド:最新のイングル®ハートウアにアケセスする無料の開発サイドローリスを使用て、イングル® oneAPI リーリルを選択いたします。イングル® Tiber™ AI イーラドの詳細を確認してくださいます。

# 1.3 開連ドキュメト

次のドキムntは、こか5oneAPI プロジウトを導入する開発者向けの入門資料とて役立らま。

- 元宇宙 - 元宇宙 - 元宇宙

- プンテル® oneAPI バー・ツルキット導入ガイド Linux* 版 (英語)| Windows* 版 (英語)  
- プンテル® HPC リルキット導入ガイド (Linux* 版 (英語) | Windows* 版 (英語)

- ヨル oneAPI リルキットのリリーニト

- ネンテル® oneAPI バー・ソールキット  
- ネンテル® HPC リルキット

言語リフレンス

- Khronos SYCL* API リフアレnton (英語)  
- SYCL* 1.2.1 仕樣 PDF (英語)  
- SYCL* 2020仕樣PDF英語(Rev10) | 日本語(Rev6)  
James Reinders, Ben Ashbaugh, James Broadman, Michael Kinsner, John Pennycook, and Xinmin Tian 著『Data Parallel C++: Mastering DPC++ for Programming of Heterogeneous Systems using C++ and SYCL』(英語) — 本書の一部は、Creative CommonsのライSEPENS (英語)の下で再利用いたします。  
- LLVM/OpenMP* 開連のドキュmonton (英語)  
- OpenMP* 仕樣 (英語)

# 2 oneAPI フロgr lamng·モデル

ハテロジニアス·コンビューテインダのは、木SPORT・プロセSSF一是アケセラレーダー・デバイスの利点を活用て、コトを優効率良く実行いたします。

oneAPI トロガラーニング・モデルは、SYCL* によるデーア並列 C++ (DPC++) およむ OpenMP* (Fortran、C、C++)の2つのハテロジニアス・コンビューニング方式をサボートます。

# 2.1 SYCL*

SYCL*はケロスTPLTフアムの抽象化レイヤー、アリケーニンの木トと力一neaルのコトが同じノーフアILに含まる、ハテロジニアス·プロセSSF用のコトを標準的なISO C++を使用て記述するごが成長。DPC++才一PNSONS·PLOJCTは、LLVM C++ ハンバイヤラ—に SYCL*のサロトを追加ていま�。InneloneAPI DPC++/C++ ハンバイヤラ—は、Innelone®oneAPI ハンバイヤラ—に含ま�ていま�。

# 2.2 SYCL* 力一nellの互換性

SYCL* 2020 仕様に従て、DPC++は SYCL* 力一内科の才予言の力一内科機能の使用を検出いたします。力一内科は、デバイスが力一内科と互換性のはと見なた的是、デバイスが力一内科が要求するすばての側面にしぃ device::has() て true 東報告た場合にごは。つまり、特定のデバイスで作成た kernel Bundle には、デバイスがサボーツしおい要件持つ力一内科は含まむ、互換性のは的力一内科を起動しょうとりと、 sycl::exception がスロ一されま�。

力一専内の要件の起源を特定するごは困難な场合がるた、カ一専に sycl::device_has 属性を追加するごは可以。CONPILAR-は、力一専の sycl::device_has 属性に示得很好いアスcapeト要件が力一専に对て推定た的場合、一警告。。の動作は SYCL*2020仕樣で必須とてい。

# 2.3 OpenMP*

OpenMP*は20年以上に渡り標準化くださいますプロGPLーマング言語のは、インルはOpenMP*標準のバジフ5を実装いたします。OpenMP*の才ローブ機能をサボーパーするインル® oneAPI DPC++/C++ フンバイラーハは、インル® oneAPI バー・ツールキットお願いいたします。HPC ユールキットに含むります。OpenMP*才ロービーをサボーパーるインル® Fortran フンバイラーハは、インル® HPC ユールキットで提供いたします。

次のせクIJONは、它等它言語にて簡単に説明し詳細情報の参照先示し。

# 2.4 SYCL*を使用たC++のデーメ並列处理

C++ 生成性高的高一夕並列プロダラルを行うオーリフに、マルチデーに優州ケチヤの ラボーツは、SYCL*をサロトする標準 C++ によう実現いたします。SYCL*('シケル'と読みます)は、ロイヤルテイ・ フリOneのクロスプロドアモーツムの抽象化レイヤーで、アリケーニンの木ストと力一NEルのコトが同じソーナフ ダルに含むる、ハテロジニアス・プロセツサイ用のコトを標準的なISO C++を使用て記述する这句话ごきります。 DPC++ 才一脱ンソーメ・プロジュ兗は、LLVM C++ マンバイラーニに SYCL*のサボーツを追加,Thい)=(。

# 2.4.1 マυーラムダ参照を使用た簡單なサングルコード

SYCL*の導入を示す最良の方法は、簡單なSAN複ル使用すると这样做よ。SYCL*は最新のC++をバーメスにきるたて、その例のはラムダ式や一樣初期化んだ近年C++に追加くださいます、いっかの機能を使用いたします。開発者的機能に精通いたします。その意味と機能はSAN複ルのCONテキストから明確にCNTMを用む。SYCL*によるプロガラモングの經驗を積ります。、その新鮮C++機能は自然に受け,GL受害者。

次の�ルコは、a[0] = 0、a[1] = 1、...のように配列の各要素をそのインデクス価に設定いたします。

```cpp
1. #include <CL/sycl.hpp>
2. #include <iostream>
3.
4. constexpr int num=16;
5. using namespace sycl;
6.
7. int main()
8. auto r = range{num};
9. buffer<int> a{r};
10.
11. queue{}.submit(&)(handler& h) {
12. accessor out{a, h};
13. h_parallel_for(r, [=](item<1> idx) {
14. out[idx] = idx;
15. });
16. });
17.
18. host_accessor result{a};
19. for (int i=0; i<num; ++i)
20. std::cout << result[i] << "\n";
21. } 
```

最初に気付くごは、ソーナフアルが1つしおいごて。つり、木ストコーニと才ローニさるアケ塞尔一夕一コートの两方がごの单一のソーナフアルから生成さる。次に注目むき点は、構文が標準のC++でたうごて。並列处理を表現する新いキーユアドやプロダマは使用さていせん。代わに、並列处理はC++ケラスを介て表現さてい。例えは9行目にあ buffer イスはデバイスに才ローニさる徴一夕表し、11行目の queue イスは木ストからアケ塞尔一の接続を表じ。

□ドリクは次のうに動作ります。8行目と9行目、初期値を持た16個int要素のbufferを作成ります。そのbufferは配列のうに作用ります。11行目でアクSELレーダー・デバイスに接続するキュー(queue)を作成ます。その簡卍例は、SYCL* ランタムがデフィルトのアクSELレーダー・デバイスを選択いたしますか、APRILKERUNによては、システムのトロジーを調査て特定のアクSELREHERONを選択するごみごきます。キューが作成いたします。その例のはsubmit() メンバーニ闋数を用戶出し、アクSELレーダーにフローを送信します。そのsubmit() 開数の引数はラムダ関数のは、木戸上てむに実行いたします。ラムダ関数は次の2つの二を行います。1つは、12行目でアクSELSAER操作ります。アクSELSAERはバFFFAERの要素を書きむにが成長ます。次に、13行目でparallel_for() 開数を用戶出してコトはアクSELRAER一策実行ります。

parallel_for()の呼声出は2つの引数のは。1つはラums関数のは、もう1つはバフア一内之要素数を示規範围才総クトrです。SYCL*は、ラums関数がレンジ内的イデツスごに一度（ハフア一要素ごに1回）、アケ塞尔ーダーで呼声出さるように調整いたします。ラumsは、12行目で作成たoutアケ塞尔一使用てハフア一要素に值を割り当てるだけです。その簡單な例は、ラums呼吁出し間に依存関係がた的、SYCL*はアケ塞尔ーダーで最も効率良的方法自由に並行て実行くださいます。

parallel_for() 要素を読み取る host_accessor 作成するとです。SYCL*は、そのバフア一がアケ塞尔一によう書き+(\)=18行目)は、parallel_for() によう送信たわ一が完了するまてプロクさは米。アケ塞尔一のわ一が完了ると、木ストコドは18行目以降を統行し、outアケ塞尔一使用てバフア一から値を読み取りむ。

# 2.4.2 開連情報

ごのSYCL*の概要は、完全なチトリルを目指すたはなく、言語機能の一部分を紹介するだけです。ロカル×モリ一、バリア、SIMD等一般にアケセレーダー・ハートウエで使用たて学にきははほかにもたさん)”ありま。一度に複数のアケセレーダー・デバイスにわーを送信する機能もあり、1つのアリケーヨンが複数のデバイスで同時にわーを並行て実行するたともてきま。

以下のリソーナスは、oneAPI DPC++を使用てSYCL*を學習て習得るに役立与否。

- 「インルのサン格尔を使用たSYCL*の調査」(英語)は、GitHub*から入手成功的SAN格尔・アTPLKE-Jehon's紹介とリンクを示ていたします。  
- 「DPC++ 基礎SENPLBコトのウークスル」(英語)は、最初の一步%= HelloWorld!アリケーニンに相当な DPC++ バクトル加算のSENPLBコトを詳しく見てき)=(  
- Khronos*の「SYCL*リフレUNS」(英語)には、SYCL*ケラスのMXUN関数と使用例に閲る情報が含むていります。  
- 「DPC++ 工总承包・トレーニング・コス」(英語)は、インテル Tiber™ AI イラウドで Jupyter* Notebookを使用するガイド付けの学习コスです。iSUSから日本語ハリケジ提供いたします。  
- [Data Parallel C++: Mastering DPC++ for Programming of Heterogeneous Systems using C++ and SYCL* (デーナ並列 C++: C++ と SYCL* 東使用んだロジニアス・シラムのプロガラミング向に DPC++を習得)] (英語)は、SYCL* 和 ハテロジニアス・プロガラミングに関連するプロガラミングの概念と言語の詳細を紹介する書籍です。

# 2.5 C/C++ または Fortran と OpenMP* 才ロービ・プロガラムング・モデル

インル® oneAPI DPC++/C++ ニンバイヤーおよんだインル® Fortran ニンバイヤーを使用すると、OpenMP* ニンクバイアを使用してわくをインルのアケ塞尔ーダー・デバイスに才フロードし、アプロケーションのバフローマングを向上いたします。

ごのせクソルは、OpenMP* ダレ克テイを使用て計算をアケセラレー。デバイスに才ロ一達的方法にて説明いたします。OpenMP* ダレ克テイに慣得很好開発者は『インテルoneAPI DPC++/C++ メンハリーテフロー・ガイドおよリフロー・デバイス』(英語)や『インテルFortran メンハリーナ・デバイドおよリフロー・ガイドおよリフロー・デバイス』(英語)のOpenMP* サボートのせクソル基本的な使い方を参照てくだき。

注: OpenMP*はFPGA テバイスのははサボーツせん。

# 2.5.1 基本の openMP* target 構造

OpenMP* target 構造は、木戸からタ一��ットデバイス八制御を移行するたに使用いたします。変数は木戸とタ一��ットデバイスでマツbillngさります。木戸スレットは、才ロ一ドた計算が完了するまて待機します。ほかのOpenMP*夕スケは、木戸と非同期に実行,Noこは、nowait節を使用て、スレットがタ一��ット領域の完了を待機しおうにします。

```txt
C/C++ 
```

次のC++の客户端は、SAXPY計算をアケ塞尔一夕一に才ロ一ドします。

#pragma omp target map(tofrom:fa), map(to:fb,a) #pragma omp parallel for firstprivate(a) for $(k = 0$ . $k <   FLOPS\_ array\_ SIZE$ . $k + + )$ fa[k] $=$ a\* fa[k] $^+$ fb[k]

配列faは、計算の入力と出力の两方で使用くださいます、アクセラレーダーのtoとfromにマツついたします。配列fbと変数aは計算の入力のは変更いたします。その出力をコビ一する必要のはんだん。変数FLOPS_ARRAY_SIZEはアクセラレーダーに暗黒にマツついたします。ルーム・インデックスkは、OpenMP*仕様に從て暗黒のにTPLAVートです。
